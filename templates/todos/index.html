{% extends './base.html' %}

<!--  Title   -->
{% block title %} Home - Django Todos App {% endblock title%}

<!--  Content   -->
{% block content %}
<section class="py-5 text-center container">
  <div class="row py-lg-5">
    <div class="col-lg-6 col-md-8 mx-auto">
      <h1 class="fw-light">Django Todo Application</h1>
      <p class="lead text-body-secondary">
        This is a Todo application built with Django. It allows you to manage your tasks efficiently.
      </p>
      <p>
        <a href="{% url 'create' %}" class="btn btn-warning my-2"
          >Add New Todo</a
        >
      </p>
    </div>
  </div>
</section>
<div class="container">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">To-Do Name</th>
        <th scope="col">Is Completed?</th>
        <th scope="col">Date and Time</th>
        <th scope="col">Delete</th>
        <th scope="col">Update</th>
      </tr>
    </thead>
    <tbody>
      {% for todo in todo_list %}
      <tr>
        {% if todo.is_completed %}
          <td><del>{{todo.title}}<del></td>
          <td>
            <a class="btn btn-warning" href="{% url 'toggle_completed' todo.id %}" role="button">Yes</a>
          </td>
        {% else %}
          <td>{{todo.title}}</td>
          <td>
            <a class="btn btn-warning" href="{% url 'toggle_completed' todo.id %}" role="button">No</a>
          </td>
        {% endif %}

        <td>{{todo.updated_at}}</td>
        <td>
          <a
            class="btn btn-danger"
            href="{% url 'delete' todo.id %}"
            role="button"
            >Delete</a
          >
        </td>
        <td>
          <a
            class="btn btn-warning"
            href="{% url 'update' todo.id %}"
            role="button"
            >Update</a
          >
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock content %}
